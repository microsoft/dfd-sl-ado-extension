steps:
# Only inject the task if this task is not added manually in the pipeline 
# We only check for the `post-job` injection Since we're relying on the start data set by the `pre-job`
- ${{ if or(and(not(containsValue(job.steps.*.inputs.tasktype, 'post-job')), containsValue(job.steps.*.task.id, '5b0f5dae-fcdc-4f70-8237-b29eacf9bfd9')), not(containsValue(job.steps.*.task.id, '5b0f5dae-fcdc-4f70-8237-b29eacf9bfd9'))) }}:
  - task: DefenderForDevOpsCodeToCloud@0
    displayName: 'Microsoft Defender for DevOps Container Mapping End'
    timeoutInMinutes: 1
    condition: always()
    continueOnError: true
    inputs:
      tasktype: 'post-job'
